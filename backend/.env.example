# ENIGMA Backend Environment Configuration
# Copy this file to .env and fill in your actual values

# DATABASE CONFIGURATION (REQUIRED)
DATABASE_URL=postgresql://user:password@your-project.supabase.co:5432/postgres
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=0
DATABASE_POOL_TIMEOUT=30.0
DATABASE_ECHO=false

# SECURITY (REQUIRED - Generate using scripts/generate_keys.py)
ENCRYPTION_KEY=your-fernet-key-here
JWT_SECRET=your-jwt-secret-here
ADMIN_TOKEN_EXPIRY_HOURS=24

# OPENAI CONFIGURATION (REQUIRED)
OPENAI_API_KEY=sk-your-openai-api-key-here
WORKER_MODEL=gpt-5
JUDGE_MODEL=gpt-5-mini

# RETRY CONFIGURATION
MAX_RETRY_ATTEMPTS=3
API_RETRY_DELAY=1.0
API_MAX_RETRIES=5

# SCORING WEIGHTS (Must sum to 1.0)
WEIGHT_ACADEMIC=0.30
WEIGHT_TEST=0.25
WEIGHT_ACHIEVEMENT=0.25
WEIGHT_ESSAY=0.20

# LOGGING
LOG_LEVEL=INFO

# OPTIONAL EMAIL
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_FROM=noreply@enigma.edu
EMAIL_PASSWORD=
EMAIL_USE_TLS=true

# STUDENT OAUTH (REQUIRED for student portal)
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_OAUTH_REDIRECT_BASE="http://localhost:3000"
STUDENT_SESSION_TTL_HOURS=8

# BIAS MONITORING (Phase 2: Live Interview Monitoring)
ENABLE_BIAS_MONITORING=true
BIAS_DETECTION_MODEL=gpt-5-mini

# Nudge Thresholds (confidence scores 0.0-1.0)
NUDGE_THRESHOLD_LOW=0.3
NUDGE_THRESHOLD_MEDIUM=0.6
NUDGE_THRESHOLD_HIGH=0.85

# Strike Configuration
STRIKE_LIMIT_PER_INTERVIEW=3
STRIKE_LIMIT_PER_CYCLE=5
STRIKE_RESET_DAYS=90

# STT Configuration
STT_CHUNK_DURATION_SECONDS=10
TRANSCRIPT_RETENTION_DAYS=365
